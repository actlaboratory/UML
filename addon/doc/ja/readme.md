# UML: Universal Multilingual

## 概要

このアドオンは、現在NVDAが読んでいる言語を判別して、言語ごとに別々の音声エンジンを使って読み上げることができます。今のところ、日本語と日本語以外という2種類の判別のみに対応しています。ユーザーからのコントリビューションや要望に応じて、判別できる言語を追加したり、切り替えの炉軸を改善できればと思っています。

## システム要件

サポートされるNVDAの最低バージョンは、2021.1です。

## 使い方

1. このアドオンをインストールします。
2. NVDAメニュー -> Universal Multilingual -> Universal Multilingualの設定 を実行します。
3. 第一言語を選択します。
4. 言語の切り替え方式を選択します。
5. 言語べつに音声エンジンを設定します。
6. 設定を保存します。
7. NVDAの設定で、音声エンジンを「Universal Multilingual」に変更します。
8. 同じダイアログで、「サポートされている場合自動的に言語を切り替える」のチェックを入れます。

## 各種設定

「Universal Multilingualの設定」に含まれる設定について解説します。

### 第一言語

優先して選択される言語を設定します。今のところ、あまり動作に影響しません。

### 切り替え方式

文章: 読み上げようとしている文章全体をチェックします。1文字でも日本語が含まれていれば、そこでチェックを中止して、全て日本語で読み上げます。文章中に日本語がないとき、日本語以外の音声エンジンで読み上げます。
単語: 読み上げようとしている文章を、1文字単位でチェックします。日本語と英語が混じっていても、日本語部分を日本語音声で、日本語以外の部分を日本語以外の音声で読み上げます。

### 音声エンジン

ここで、日本語の音声と、日本語以外の音声として使用する音声エンジンを設定します。リストビューに、言語と音声エンジンの設定状況が表示されています。「エンジンを選択」ボタンを押すと、選択中の言語で使用する音声エンジンを変更できます。

現在、複数の言語で同じ音声エンジンを使用することはサポートしていません。たとえば、日本語以外の音声エンジンでSAPI5を使っているときに、日本語をSAPI5にすることはできません。

## お勧めの設定

NVDAの音声設定で、「記号と文字の説明に音声の言語を使用」のチェックボックスにチェックを入れておくことを推奨しています。言葉で説明するのがなかなか難しいのですが、チェックを付けるほうが意図した読み上げになります。

## 既知の問題点と制限事項

音声エンジンの組み合わせによっては、正しく動作しない可能性があります。多くの場合、それは音声エンジンドライバの間違った実装による問題であり、Universal Multilingualがどんなに頑張っても解決することはできません。

使用する音声エンジンの設定を個別で変更するには、NVDAの音声設定で、その音声エンジンを使用する設定に変更したあとで、お好みの設定に調整する必要があります。Universal Multilingualは音声を出し分けるだけであり、コントロール下にある音声エンジンの設定に干渉する機能は搭載していません。

大文字のピッチ変更など、一部のイベントにまだ対応できていません。そのうち対応したいと思っています。

これから対応言語を追加することはできますが、これ以外の言語をネイティブで使用している開発者がいないため、現在は日本語とそれ以外を判定するのみです。対応言語を追加してほしい場合は、ACT Laboratoryまでご相談ください。

## 連絡先

GitHubのアカウントを持っている方は、 [Universal Multilingualのissuesページ](https://github.com/actlaboratory/UML/issues) でissueを投稿していただけると、最も早く対応できます。

メールでのお問い合わせの場合は、 support@actlab.org 宛てに送信してください。
